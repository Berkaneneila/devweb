<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile | ZRquest</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="user.css">
    <script>
        // Check if user is logged in
        if (!localStorage.getItem('isLoggedIn')) {
            window.location.href = 'index.html';
        }
    </script>
</head>
<body>
    <!-- Custom Navbar -->
    <nav class="custom-navbar">
        <div class="nav-brand">
            <svg class="logo" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="40" height="40" rx="8" fill="#0A192F"/>
                <path d="M20 8C13.373 8 8 13.373 8 20C8 26.627 13.373 32 20 32C26.627 32 32 26.627 32 20C32 13.373 26.627 8 20 8ZM20 12C22.209 12 24 13.791 24 16C24 18.209 22.209 20 20 20C17.791 20 16 18.209 16 16C16 13.791 17.791 12 20 12ZM20 28C17.333 28 14.933 26.933 13.2 25.067C13.233 23.067 18.4 21.733 20 21.733C21.6 21.733 26.767 23.067 26.8 25.067C25.067 26.933 22.667 28 20 28Z" fill="#F59E0B"/>
            </svg>
            <h1>TourAlgeria</h1>
        </div>
        <div class="nav-links">
            <a href="index.html" class="nav-link">Home</a>
            <a href="destinations.html" class="nav-link">Destinations</a>
            <a href="tours.html" class="nav-link">Tours</a>
            <a href="about.html" class="nav-link">About</a>
            <a href="contact.html" class="nav-link">Contact</a>
        </div>
        <div class="nav-actions">
            <button class="nav-btn secondary">
                <i class="fas fa-search"></i>
            </button>
            <!-- Sign In button (shown when not logged in) -->
            <button class="nav-btn primary" id="signInBtn">
                <i class="fas fa-user"></i>
                <span>Sign In</span>
            </button>
            <!-- User profile circle (shown when logged in) -->
            <div class="user-profile-circle" id="userProfileBtn">
                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2NjY2NjYyI+PHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgM2MyLjY3IDAgNC44NCAyLjE3IDQuODQgNC44NCAwIDIuNjctMi4xNyA0Ljg0LTQuODQgNC44NC0yLjY3IDAtNC44NC0yLjE3LTQuODQtNC44NCAwLTIuNjcgMi4xNy00Ljg0IDQuODQtNC44NHptMCAxMmM0LjQyIDAgOC4xNy0yLjIyIDkuNTQtNS41NS0yLjY5LTEuNzMtNi4xNC0yLjctOS41NC0yLjctMy40IDAtNi44NS45Ny05LjU0IDIuNyAxLjM3IDMuMzMgNS4xMiA1LjU1IDkuNTQgNS41NXoiLz48L3N2Zz4=" alt="Profile Picture">
                <div class="user-dropdown">
                    <a href="user.html" class="dropdown-item">
                        <i class="fas fa-user"></i>
                        My Profile
                    </a>
                    <a href="#" class="dropdown-item">
                        <i class="fas fa-cog"></i>
                        Settings
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item text-danger" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        Logout
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="user-container">
        <!-- Sidebar Navigation -->
        <div class="sidebar">
            <div class="user-info">
                <div class="profile-pic">
                    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2NjY2NjYyI+PHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgM2MyLjY3IDAgNC44NCAyLjE3IDQuODQgNC44NCAwIDIuNjctMi4xNyA0Ljg0LTQuODQgNC44NC0yLjY3IDAtNC44NC0yLjE3LTQuODQtNC44NCAwLTIuNjcgMi4xNy00Ljg0IDQuODQtNC44NHptMCAxMmM0LjQyIDAgOC4xNy0yLjIyIDkuNTQtNS41NS0yLjY5LTEuNzMtNi4xNC0yLjctOS41NC0yLjctMy40IDAtNi44NS45Ny05LjU0IDIuNyAxLjM3IDMuMzMgNS4xMiA1LjU1IDkuNTQgNS41NXoiLz48L3N2Zz4=" alt="Profile Picture">
                    <button class="change-pic-btn"><i class="fas fa-camera"></i></button>
                </div>
                <h2 class="user-name">Loading...</h2>
                <p class="user-email">Loading...</p>
                <div class="user-stats">
                    <div class="stat-item">
                        <span class="stat-value">0</span>
                        <span class="stat-label">Bookings</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value">0</span>
                        <span class="stat-label">Favorites</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value">0</span>
                        <span class="stat-label">Reviews</span>
                    </div>
                </div>
            </div>
            <nav class="profile-nav">
                <button class="nav-item active" data-section="dashboard">
                    <i class="fas fa-chart-line"></i> Dashboard
                </button>
                <button class="nav-item" data-section="profile">
                    <i class="fas fa-user"></i> Profile
                </button>
                <button class="nav-item" data-section="bookings">
                    <i class="fas fa-calendar-check"></i> My Bookings
                </button>
                <button class="nav-item" data-section="favorites">
                    <i class="fas fa-heart"></i> Favorites
                </button>
                <button class="nav-item" data-section="reviews">
                    <i class="fas fa-star"></i> My Reviews
                </button>
                <button class="nav-item" data-section="settings">
                    <i class="fas fa-cog"></i> Settings
                </button>
            </nav>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <h2>Dashboard</h2>
                <div class="dashboard-grid">
                    <!-- Quick Stats -->
                    <div class="dashboard-card stats-card">
                        <h3>Quick Stats</h3>
                        <div class="stats-grid">
                            <div class="stat-box">
                                <i class="fas fa-calendar-check"></i>
                                <div class="stat-info">
                                    <span class="stat-value">0</span>
                                    <span class="stat-label">Active Bookings</span>
                                </div>
                            </div>
                            <div class="stat-box">
                                <i class="fas fa-heart"></i>
                                <div class="stat-info">
                                    <span class="stat-value">0</span>
                                    <span class="stat-label">Saved Destinations</span>
                                </div>
                            </div>
                            <div class="stat-box">
                                <i class="fas fa-star"></i>
                                <div class="stat-info">
                                    <span class="stat-value">0</span>
                                    <span class="stat-label">Reviews Written</span>
                                </div>
                            </div>
                            <div class="stat-box">
                                <i class="fas fa-map-marker-alt"></i>
                                <div class="stat-info">
                                    <span class="stat-value">0</span>
                                    <span class="stat-label">Cities Visited</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Upcoming Trips -->
                    <div class="dashboard-card">
                        <h3>Upcoming Trips</h3>
                        <div class="upcoming-trips">
                            <div class="no-data">No upcoming trips</div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="dashboard-card">
                        <h3>Recent Activity</h3>
                        <div class="activity-timeline">
                            <div class="no-data">No recent activity</div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="dashboard-card">
                        <h3>Quick Actions</h3>
                        <div class="quick-actions">
                            <button class="action-btn">
                                <i class="fas fa-plus"></i>
                                New Booking
                            </button>
                            <button class="action-btn">
                                <i class="fas fa-pen"></i>
                                Write Review
                            </button>
                            <button class="action-btn">
                                <i class="fas fa-share-alt"></i>
                                Share Profile
                            </button>
                            <button class="action-btn">
                                <i class="fas fa-download"></i>
                                Download History
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profile" class="content-section">
                <h2>Personal Information</h2>
                <div class="profile-grid">
                    <form id="profile-form" class="profile-form">
                        <div class="form-group">
                            <label for="fullName">Full Name</label>
                            <input type="text" id="fullName" name="fullName" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone">
                        </div>
                        <div class="form-group">
                            <label for="address">Address</label>
                            <textarea id="address" name="address"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="bio">Bio</label>
                            <textarea id="bio" name="bio" rows="4" placeholder="Tell us about yourself..."></textarea>
                        </div>
                        <button type="submit" class="save-btn">Save Changes</button>
                    </form>

                    <div class="profile-sidebar">
                        <div class="preferences-card">
                            <h3>Travel Preferences</h3>
                            <div class="preference-item">
                                <label>Preferred Language</label>
                                <select class="preference-select">
                                    <option value="en">English</option>
                                    <option value="fr">French</option>
                                    <option value="ar">Arabic</option>
                                </select>
                            </div>
                            <div class="preference-item">
                                <label>Currency</label>
                                <select class="preference-select">
                                    <option value="usd">USD</option>
                                    <option value="eur">EUR</option>
                                    <option value="dzd">DZD</option>
                                </select>
                            </div>
                            <div class="preference-item">
                                <label>Time Zone</label>
                                <select class="preference-select">
                                    <option value="utc+1">UTC+1 (Algiers)</option>
                                    <option value="utc">UTC</option>
                                    <option value="utc-5">UTC-5 (EST)</option>
                                </select>
                            </div>
                        </div>

                        <div class="achievements-card">
                            <h3>Achievements</h3>
                            <div class="achievements-list">
                                <div class="achievement-item locked">
                                    <i class="fas fa-award"></i>
                                    <span>First Booking</span>
                                </div>
                                <div class="achievement-item locked">
                                    <i class="fas fa-map-marked-alt"></i>
                                    <span>Explorer</span>
                                </div>
                                <div class="achievement-item locked">
                                    <i class="fas fa-star"></i>
                                    <span>Reviewer</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Bookings Section -->
            <section id="bookings" class="content-section">
                <h2>My Bookings</h2>
                <div class="bookings-filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="upcoming">Upcoming</button>
                    <button class="filter-btn" data-filter="past">Past</button>
                    <button class="filter-btn" data-filter="cancelled">Cancelled</button>
                </div>
                <div class="bookings-list">
                    <!-- Bookings will be loaded dynamically -->
                    <div class="loading">Loading bookings...</div>
                </div>
            </section>

            <!-- Favorites Section -->
            <section id="favorites" class="content-section">
                <h2>Favorite Destinations</h2>
                <div class="favorites-filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="north">North</button>
                    <button class="filter-btn" data-filter="south">South</button>
                    <button class="filter-btn" data-filter="east">East</button>
                    <button class="filter-btn" data-filter="west">West</button>
                </div>
                <div class="favorites-grid">
                    <!-- Favorites will be loaded dynamically -->
                    <div class="loading">Loading favorites...</div>
                </div>
            </section>

            <!-- Reviews Section -->
            <section id="reviews" class="content-section">
                <h2>My Reviews</h2>
                <div class="reviews-list">
                    <!-- Reviews will be loaded dynamically -->
                    <div class="loading">Loading reviews...</div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="content-section">
                <h2>Account Settings</h2>
                <div class="settings-grid">
                    <div class="settings-group">
                        <h3>Change Password</h3>
                        <form id="password-form" class="settings-form">
                            <div class="form-group">
                                <label for="currentPassword">Current Password</label>
                                <input type="password" id="currentPassword" name="currentPassword" required>
                            </div>
                            <div class="form-group">
                                <label for="newPassword">New Password</label>
                                <input type="password" id="newPassword" name="newPassword" required>
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword">Confirm New Password</label>
                                <input type="password" id="confirmPassword" name="confirmPassword" required>
                            </div>
                            <button type="submit" class="save-btn">Update Password</button>
                        </form>
                    </div>

                    <div class="settings-group">
                        <h3>Notification Preferences</h3>
                        <form id="notifications-form" class="settings-form">
                            <div class="form-group checkbox">
                                <input type="checkbox" id="emailNotif" name="emailNotif" checked>
                                <label for="emailNotif">Email Notifications</label>
                            </div>
                            <div class="form-group checkbox">
                                <input type="checkbox" id="smsNotif" name="smsNotif">
                                <label for="smsNotif">SMS Notifications</label>
                            </div>
                            <div class="form-group checkbox">
                                <input type="checkbox" id="marketingNotif" name="marketingNotif">
                                <label for="marketingNotif">Marketing Updates</label>
                            </div>
                            <button type="submit" class="save-btn">Save Preferences</button>
                        </form>
                    </div>

                    <div class="settings-group">
                        <h3>Privacy Settings</h3>
                        <form id="privacy-form" class="settings-form">
                            <div class="form-group checkbox">
                                <input type="checkbox" id="profileVisibility" name="profileVisibility" checked>
                                <label for="profileVisibility">Public Profile</label>
                            </div>
                            <div class="form-group checkbox">
                                <input type="checkbox" id="showBookings" name="showBookings" checked>
                                <label for="showBookings">Show My Bookings</label>
                            </div>
                            <div class="form-group checkbox">
                                <input type="checkbox" id="showReviews" name="showReviews" checked>
                                <label for="showReviews">Show My Reviews</label>
                            </div>
                            <button type="submit" class="save-btn">Save Privacy Settings</button>
                        </form>
                    </div>

                    <div class="settings-group danger-zone">
                        <h3>Danger Zone</h3>
                        <div class="danger-actions">
                            <button class="danger-btn" onclick="exportData()">
                                <i class="fas fa-download"></i>
                                Export All Data
                            </button>
                            <button class="danger-btn" onclick="deleteAccount()">
                                <i class="fas fa-trash"></i>
                                Delete Account
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/user.js"></script>
</body>
</html> 